(window["webpackJsonpreact-contacts"]=window["webpackJsonpreact-contacts"]||[]).push([[0],{32:function(e){e.exports=JSON.parse('[{"_id":"1","name":"Jack Dorsey","address":"Los Angeles","email":"jackdorsey@gmail.com","website":"jackdorsey.github.io","phone":"999999999","company":"Twitter Inc","notes":"Notes","label":"Friend"},{"_id":"2","name":"Steve Jobs","address":"Los Altos, California","email":"stevejobs@gmail.com","website":"stevejobs.github.io","phone":"9999999999","company":"Apple Inc","notes":"Notes","label":"Family"},{"_id":"3","name":"Steve Woz","address":"Los Gatos, California","email":"stevewoz@gmail.com","website":"stevewoz.github.io","phone":"888888888","company":"Apple Inc","notes":"Notes","label":"Colleague"},{"_id":"4","name":"Bill Gates","address":"New York","email":"billgates@gmail.com","website":"billgates.github.io","phone":"6666666666","company":"Microsoft Inc","notes":"Notes","label":"Acquaintance"}]')},33:function(e){e.exports=JSON.parse('[{"label":"Friend","count":1},{"label":"Family","count":1},{"label":"Colleague","count":1},{"label":"Acquaintance","count":1}]')},35:function(e,t,a){e.exports=a(64)},40:function(e,t,a){},46:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),o=a.n(l),c=a(15),s=a(9),i=a(10),m=a(12),u=a(11),p=a(13),d=a(14),b=(a(40),a(5)),h=a(6),g=(a(46),function(e){var t=e.currentUser;return r.a.createElement("div",{className:"navbar navbar-dark bg-primary app-header"},r.a.createElement(c.b,{className:"navbar-brand",to:"/"},r.a.createElement(b.a,{icon:h.a,style:{color:"white",height:32,width:32}})),r.a.createElement("div",{className:"app-user-options"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Welcome, ",t),r.a.createElement("button",{type:"button",className:"btn btn-grey"},"Sign Out")):r.a.createElement("button",{type:"button",className:"btn btn-light"},"Sign In")))}),f=a(21),v=a(8),E=a.n(v),y=a(31),w=a.n(y),N=a(32),C=function(e){N.push(e)},O=function(e){N=N.filter((function(t){return t._id!==e._id}))},j=a(33),S=function(){return j},L=function(e){return j.map((function(t){return t.label===e?t.count++:t}))},k=function(e){return j.map((function(t){return t.label===e&&t.count>0?t.count--:t}))},D=a(17),F=function(e){var t=e.label,a=e.name,n=e.rows,l=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},t),r.a.createElement("textarea",{className:"form-control",id:a,name:a,rows:n||0,onChange:l}))},_=function(e){var t=e.name,a=e.label,n=e.options,l=e.onChange;return t&&a&&n&&n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:t},a),r.a.createElement("select",{className:"form-control",name:t,id:t,onChange:l},n.map((function(e){return r.a.createElement("option",null,e)})))):null},A=a(34),P=(a(57),function(e){var t=e.label,a=e.name,n=e.type,l=e.placeholder,o=e.onChange,c=e.error,s=Object(A.a)(e,["label","name","type","placeholder","onChange","error"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",Object.assign({type:n,className:"form-control ".concat(c?"has-error":""),name:a,id:a,placeholder:l,onChange:o},s)),c&&r.a.createElement("div",{className:"alert alert-danger"},c))}),x=function(e){var t=e.children,a=e.type,n=e.color,l=e.isDisabled;return r.a.createElement("button",{className:"btn btn-".concat(n),type:a,disabled:l},t)};x.defaultProps={color:"primary"};var I=x,J=function(e){var t=e.handleSubmit,a=e.handleChange,n=e.isFormValidated,l=e.errors;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement(P,{label:"Name",name:"name",type:"text",placeholder:"Full Name",error:l.name,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(P,{label:"Phone",name:"phone",type:"tel",placeholder:"Phone Number",error:l.phone,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(P,{label:"Email",name:"email",type:"email",placeholder:"example@domain.com",error:l.email,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(P,{label:"Website",name:"website",type:"url",placeholder:"http://username.com",error:l.website,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(P,{label:"Company",name:"company",type:"text",placeholder:"Company Name",error:l.company,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(F,{label:"Address",name:"address",rows:2,error:l.address,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(F,{label:"Notes",name:"notes",rows:3,error:l.notes,onChange:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement(_,{name:"label",label:"Label",options:[""].concat(Object(D.a)(j.map((function(e){return e.label})))),onChange:a})),r.a.createElement(I,{type:"submit",isDisabled:n},"Sign In"))};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contact:{name:"",email:"",phone:"",company:"",website:"",address:"",notes:"",label:""},errors:{}},a.schema={name:E.a.string().required(),email:E.a.string().email().allow("").optional(),phone:E.a.string().trim().required(),company:E.a.string().allow("").optional(),website:E.a.string().allow("").optional(),address:E.a.string().allow("").optional(),notes:E.a.string().allow("").optional(),label:E.a.string().allow("").optional()},a.validate=function(){var e=E.a.validate(a.state.contact,a.schema,{abortEarly:!1}).error;if(!e)return null;var t={},n=!0,r=!1,l=void 0;try{for(var o,c=e.details[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value;t[s.path[0]]=s.message}}catch(i){r=!0,l=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(f.a)({},t,n),l=Object(f.a)({},t,a.schema[t]),o=E.a.validate(r,l).error;return o?o.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();if(a.setState({errors:t||{}}),!t){var n=W({},a.state.contact);n._id=w.a.generate(),C(n),L(n.label),a.props.history.push("/")}},a.handleChange=function(e){var t=e.currentTarget,n=W({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var l=W({},a.state.contact);l[t.name]=t.value,a.setState({contact:l,errors:n})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container contact-page mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"}),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"card-title"},"Create Contact"),r.a.createElement(J,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,isFormValidated:!!this.validate(),errors:e})))),r.a.createElement("div",{className:"col-sm"})))}}]),t}(n.Component),U=(a(58),a(59),function(e){var t=e.data;if(!t)return null;var a=t.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tag-list-header"},r.a.createElement("span",{className:"tag-list-header-group"},r.a.createElement(b.a,{icon:h.d})),r.a.createElement("span",{className:"tag-list-header-group"},"Labels"),r.a.createElement("span",{className:"tag-list-header-group badge badge-primary"},a)),r.a.createElement("div",{className:"tag-list-group"},r.a.createElement("ul",{className:"list-group"},t.map((function(e){return r.a.createElement("li",{key:e.label,className:"list-group-item d-flex justify-content-between align-items-start border-0 "},r.a.createElement(b.a,{icon:h.c,style:{height:16,width:16}})," ",e.label,r.a.createElement("span",{className:"badge badge-primary badge-pill"},e.count))})))))}),z=a(20),M=a.n(z),Q=function(e){var t=e.value,a=e.onSearch;return r.a.createElement("div",{className:"alert alert-light",role:"alert"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"search-icon"},r.a.createElement(b.a,{icon:h.b,style:{color:"grey"}}))),r.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search","aria-label":"Search","aria-describedby":"search-icon",value:t,onChange:function(e){return a(e.currentTarget.value)}})))},T=(a(61),function(e){var t=e.columnData,a=e.rowData;return!t&&a?null:r.a.createElement("table",{className:"table table-borderless table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{scope:"col",key:t},e.label)})))),r.a.createElement("tbody",null,a?a.map((function(e){return r.a.createElement("tr",{key:e._id},t.map((function(t,a){return r.a.createElement("td",{key:(n=e._id,l=a,n+""+l)},function(e,t){return t.content?t.content(e):M.a.get(e,t.key)}(e,t));var n,l})))})):null))}),G=function(e){var t=e.onDelete;return r.a.createElement(b.a,{icon:h.e,style:{cursor:"pointer"},onClick:t})},V=function(e){var t=e.data,a=e.onDelete;if(!t||!t.length)return null;var n=[],l=Object.keys(t[0]).filter((function(e){return"_id"!==e})).map((function(e){var t,a=null;return"email"===e&&(a=function(e){return r.a.createElement("a",{href:"mailto:".concat(e.email,"?Subject=Hello"),target:"_top"},e.email)}),"website"===e&&(a=function(e){return r.a.createElement("a",{href:e.website.includes("https://")?e.website:"https://"+e.website,target:"_blank",rel:"noreferrer noopener"},e.website)}),{key:e,label:(t=e,"".concat(t.charAt(0).toUpperCase()).concat(t.substring(1))),content:a}}));return n.push({content:function(){return r.a.createElement(b.a,{icon:h.f})}}),n.push.apply(n,Object(D.a)(l)),n.push({content:function(e){return r.a.createElement(G,{onDelete:function(){return a(e)}})}}),r.a.createElement(T,{rowData:t,columnData:n})},H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contacts:null,searchQuery:""},a.componentDidMount=function(){a.setState({contacts:a.props.data})},a.componentDidUpdate=function(){M.a.isEqual(a.state.contacts,a.props.data)||a.setState({contacts:a.props.data})},a.handleSearch=function(e){a.setState({searchQuery:e})},a.getFilteredContacts=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.address.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.company.toLowerCase().includes(t.toLowerCase())||e.notes.toLowerCase().includes(t.toLowerCase())||e.website.toLowerCase().includes(t.toLowerCase())||e.phone.includes(t.toLowerCase())||e.label.toLowerCase().includes(t.toLowerCase())}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.onDelete,t=this.state,a=t.contacts,n=t.searchQuery,l=a;return a?(n&&(l=this.getFilteredContacts(a,n)),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section-banner"},r.a.createElement(Q,{value:n,onSearch:this.handleSearch})),r.a.createElement("section",{className:"contact-table"},r.a.createElement(V,{data:l,onDelete:e})))):null}}]),t}(n.Component),Y=function(e){var t=e.to,a=e.children;return r.a.createElement(c.b,{to:t,className:"btn btn-primary",style:{marginBottom:20}},a)},$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contacts:null,tagList:null},a.handleDelete=function(e){var t=Object(D.a)(a.state.contacts);t=t.filter((function(t){return t._id!==e._id})),O(e),k(e.label),a.setState({contacts:t,tagList:S()})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({contacts:N,tagList:S()})}},{key:"render",value:function(){var e=this.state,t=e.contacts,a=e.tagList;return t?r.a.createElement("div",{className:"contacts-page"},r.a.createElement("div",{className:"labels-section"},r.a.createElement("div",{className:"create-contact"},r.a.createElement(Y,{to:"/create"},"Create Contact")),r.a.createElement("div",{className:"tag-list"},r.a.createElement(U,{data:a}))),r.a.createElement("div",{className:"contacts-section"},r.a.createElement(H,{data:t,onDelete:this.handleDelete}))):r.a.createElement("h1",null,"Loading...")}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"App"},r.a.createElement("header",{className:""},r.a.createElement(g,null)),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/create",component:B}),r.a.createElement(d.a,{path:"/",component:$})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(62),a(63);o.a.render(r.a.createElement(c.a,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.9f22ae63.chunk.js.map